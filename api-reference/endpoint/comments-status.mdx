---
title: "Get Comment Task Status"
description: "Check the status of a comment task"
---

## Endpoint

```
POST https://api.ugc.inc/comment
```

## Overview

Check the current status of a comment task created with the [Create Comment Task](/api-reference/endpoint/comments-create) endpoint. The task will progress through different states as the comment is being posted.

## Comment Task Status Values

- **`pending`** - Task is queued and waiting to be processed
- **`running`** - Task is currently being executed (phone is posting the comment)
- **`completed`** - Comment was successfully posted
- **`failed`** - Comment failed to post (error message included)

## Request Body

<ParamField body="taskId" type="string" required>
  Task ID returned from the Create Comment Task endpoint
</ParamField>

## Response

<ResponseField name="data" type="object">
  Status information for the comment task
  
  The response structure varies based on the status:
  
  <Expandable title="Pending/Running Status">
    <ResponseField name="status" type="'pending' | 'running'">
      Current status of the task
    </ResponseField>
  </Expandable>
  
  <Expandable title="Failed Status">
    <ResponseField name="status" type="'failed'">
      Task failed status
    </ResponseField>
    
    <ResponseField name="error" type="string">
      Error message explaining why the comment failed
    </ResponseField>
  </Expandable>
  
  <Expandable title="Completed Status">
    <ResponseField name="status" type="'completed'">
      Task completed status
    </ResponseField>
    
    <ResponseField name="commentUrl" type="string">
      Direct URL to the posted comment on TikTok
      
      **Format:** `https://www.tiktok.com/@username/video/{video_id}?comment_id={comment_id}`
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>

```bash cURL
curl -X POST https://api.ugc.inc/comment \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "taskId": "task_abc123xyz"
  }'
```

```python Python
import requests
import time

def check_comment_status(task_id):
    response = requests.post(
        'https://api.ugc.inc/comment',
        headers={
            'Authorization': 'Bearer YOUR_API_KEY',
            'Content-Type': 'application/json'
        },
        json={'taskId': task_id}
    )
    
    data = response.json()
    
    if data['ok']:
        status = data['data']['status']
        
        if status == 'completed':
            print('Comment posted successfully!')
            print(f"View at: {data['data']['commentUrl']}")
            return True
        elif status == 'failed':
            print(f"Comment failed: {data['data']['error']}")
            return True
        else:
            print(f"Status: {status} - still processing...")
            return False
    
    return False

# Poll until complete
task_id = 'task_abc123xyz'
while not check_comment_status(task_id):
    time.sleep(5)  # Wait 5 seconds before checking again
```

```javascript JavaScript
async function checkCommentStatus(taskId) {
  const response = await fetch('https://api.ugc.inc/comment', {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ taskId })
  });

  const data = await response.json();

  if (data.ok) {
    const status = data.data.status;
    
    if (status === 'completed') {
      console.log('Comment posted successfully!');
      console.log(`View at: ${data.data.commentUrl}`);
      return true;
    } else if (status === 'failed') {
      console.log(`Comment failed: ${data.data.error}`);
      return true;
    } else {
      console.log(`Status: ${status} - still processing...`);
      return false;
    }
  }
  
  return false;
}

// Poll until complete
const taskId = 'task_abc123xyz';
const pollInterval = setInterval(async () => {
  const isDone = await checkCommentStatus(taskId);
  if (isDone) {
    clearInterval(pollInterval);
  }
}, 5000);  // Check every 5 seconds
```

```typescript React
import { UGCClient } from 'ugcinc';

const client = new UGCClient({
  apiKey: 'YOUR_API_KEY'
});

const response = await client.comments.getStatus({
  taskId: 'task_abc123xyz'
});

if (response.ok) {
  console.log(`Status: ${response.data.status}`);
  
  // Type-safe status handling
  if (response.data.status === 'completed') {
    console.log('Comment posted successfully!');
    console.log(`View at: ${response.data.commentUrl}`);
  } else if (response.data.status === 'failed') {
    console.log(`Comment failed: ${response.data.error}`);
  } else if (response.data.status === 'pending' || response.data.status === 'running') {
    console.log('Comment is still being processed...');
    // Check again later
  }
}

// Helper function to poll until complete
async function waitForCommentCompletion(taskId: string): Promise<void> {
  while (true) {
    const response = await client.comments.getStatus({ taskId });
    
    if (!response.ok) {
      throw new Error(`Failed to check status: ${response.message}`);
    }
    
    if (response.data.status === 'completed') {
      console.log('âœ… Comment posted:', response.data.commentUrl);
      break;
    } else if (response.data.status === 'failed') {
      throw new Error(`Comment failed: ${response.data.error}`);
    }
    
    // Still processing, wait 5 seconds
    await new Promise(resolve => setTimeout(resolve, 5000));
  }
}

// Usage
try {
  await waitForCommentCompletion('task_abc123xyz');
} catch (error) {
  console.error('Error:', error.message);
}
```

</RequestExample>

<ResponseExample>

```json Success Response (Completed)
{
  "ok": true,
  "code": 200,
  "message": "Success",
  "data": {
    "status": "completed",
    "commentUrl": "https://www.tiktok.com/@creator/video/7234567890123456789?comment_id=7000000000000000001"
  }
}
```

```json Success Response (Failed)
{
  "ok": true,
  "code": 200,
  "message": "Success",
  "data": {
    "status": "failed",
    "error": "Failed to post comment: Network timeout"
  }
}
```

```json Success Response (Pending)
{
  "ok": true,
  "code": 200,
  "message": "Success",
  "data": {
    "status": "pending"
  }
}
```

```json Success Response (Running)
{
  "ok": true,
  "code": 200,
  "message": "Success",
  "data": {
    "status": "running"
  }
}
```

```json Error Response (Task Not Found)
{
  "ok": false,
  "code": 404,
  "message": "Task not found"
}
```

</ResponseExample>

